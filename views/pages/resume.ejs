<!DOCTYPE html>
<html lang="en">
<%- include('../shared/head') %>
<body>

  <%- include("../shared/signedInHeader.ejs") %>

  <h1><%= user.first_name + ' ' + user.last_name %></h1>
   
  <!-- Render resume here -->
  <%- resume.html %>
  
  <a href = "resume.ejs" Download = "resume.ejs">
  <button type = "button">Download </button>
  
  <script src = "https://cdnjs.cloudflare.com/ajax/libs/axios/1.3.1/axios.min.js">
  </script>
  <script>
    async function startDownload() {
    let results = await axios({
    url: 'resume.ejs',
    method: 'GET',
    responseType: 'blob'
    })
    let hidden_a = document.createElement('a');
    hidden_a.href = window.URL.createObjectURL(new Blob([results.data]));
    hidden_a.setAttribute('download', 'resume.ejs');
    document.body.appendChild(hidden_a);
    hidden_a.click();
    }
  </script>

</body>
</html>